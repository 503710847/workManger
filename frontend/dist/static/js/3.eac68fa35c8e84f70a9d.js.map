{"version":3,"sources":["webpack:///static/js/3.eac68fa35c8e84f70a9d.js","webpack:///./src/api/admin.js?e5ec","webpack:///src/views/admin/Index.vue","webpack:///./src/views/admin/Index.vue?79fe","webpack:///./src/views/admin/Index.vue?dea2","webpack:///./src/views/admin/Index.vue","webpack:///./src/views/admin/Index.vue?1e87"],"names":["webpackJsonp","5eyz","module","__webpack_exports__","__webpack_require__","getAdmin","i","__WEBPACK_IMPORTED_MODULE_0__utils_fetch__","url","method","getAdminById","id","resetAdminByPsw","password","data","uploadAdminByImg","headers","Content-Type","updataAdminInfo","params","name","role","avatar","deletAdminById","addNewAdmin","DCAS","__WEBPACK_IMPORTED_MODULE_0__utils_auth__","__WEBPACK_IMPORTED_MODULE_1__api_admin__","__WEBPACK_IMPORTED_MODULE_2__static_config__","imageUrl","fileList","uploadHeader","Authorization","Accept","importFileUrl","tableData","dialogFormVisible","resetDialogFormVisible","editDialogFormVisible","resetId","uploadId","form","email","form2","psw","newpsw","methods","beforeUpload","file","_this","this","fd","FormData","append","then","res","site","fetchData","_this2","response","result","catch","edit","row","_this3","reset","submit","_this4","status_code","$message","success","message","error","saveData","_this5","currentId","record","findIndex","val","index","splice","del","_this6","$confirm","confirmButtonText","cancelButtonText","type","mounted","created","filters","roleFilter","avatarFilter","PUkQ","render","_vm","_h","$createElement","_c","_self","staticStyle","width","attrs","border","prop","label","_v","scopedSlots","_u","key","fn","scope","margin-left","_s","_f","src","alt","height","_e","content","placement","plain","icon","size","on","click","$event","title","visible","close-on-click-modal","update:visible","model","label-width","value","callback","$$v","expression","placeholder","ref","staticClass","drag","action","accept","before-upload","slot","staticRenderFns","esExports","iNpT","exports","locals","iYVw","injectStyle","ssrContext","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Index_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_22e9f8b7_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_Index_vue__","normalizeComponent","__vue_styles__","Component","mHDl","push","version","sources","names","mappings","sourcesContent","sourceRoot"],"mappings":"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","file":"static/js/3.eac68fa35c8e84f70a9d.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ \"5eyz\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = getAdmin;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = getAdminById;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = resetAdminByPsw;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = uploadAdminByImg;\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = updataAdminInfo;\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = deletAdminById;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = addNewAdmin;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_fetch__ = __webpack_require__(\"Vo7i\");\n\n\nfunction getAdmin() {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/admin',\n    method: 'get'\n  });\n}\n\nfunction getAdminById(id) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/admin/' + id,\n    method: 'get'\n  });\n}\n\nfunction resetAdminByPsw(id, password) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/admin/' + id + '/reset',\n    method: 'post',\n    data: {\n      password: password\n    }\n  });\n}\n\nfunction uploadAdminByImg(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/admin/upload',\n    method: 'post',\n    data: data,\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  });\n}\n\nfunction updataAdminInfo(id, data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/admin/' + id,\n    method: 'put',\n    params: {\n      name: data.name,\n      role: data.role,\n      avatar: data.avatar\n    },\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded'\n    }\n  });\n}\n\nfunction deletAdminById(id) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/admin/' + id,\n    method: 'delete'\n  });\n}\n\nfunction addNewAdmin(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/admin',\n    method: 'post',\n    data: data\n  });\n}\n\n/***/ }),\n\n/***/ \"DCAS\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_auth__ = __webpack_require__(\"TIfe\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api_admin__ = __webpack_require__(\"5eyz\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__static_config__ = __webpack_require__(\"/98u\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      imageUrl: \"\",\n      fileList: [],\n      uploadHeader: {\n        Authorization: \"Bearer \" + __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_auth__[\"a\" /* getToken */])(),\n        Accept: \"application/json, text/plain\"\n      },\n      importFileUrl: \"/api/admin/upload\",\n      tableData: [],\n      dialogFormVisible: false,\n      resetDialogFormVisible: false,\n      editDialogFormVisible: false,\n      resetId: \"\",\n      uploadId: \"\",\n      form: {\n        id: \"\",\n        name: \"\",\n        email: \"\",\n        role: \"\",\n        avatar: \"\"\n      },\n      form2: {\n        psw: \"\",\n        newpsw: \"\"\n      }\n    };\n  },\n\n  methods: {\n    // 头像上传\n    beforeUpload: function beforeUpload(file) {\n      var _this = this;\n\n      var fd = new FormData();\n      fd.append(\"photo\", file);\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_admin__[\"b\" /* uploadAdminByImg */])(fd).then(function (res) {\n        var file = res.data.url;\n        _this.form.avatar = file;\n        _this.imageUrl = __WEBPACK_IMPORTED_MODULE_2__static_config__[\"a\" /* default */].site + file;\n      });\n      return true;\n    },\n    fetchData: function fetchData() {\n      var _this2 = this;\n\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_admin__[\"c\" /* getAdmin */])().then(function (response) {\n        //成功执行内容\n        var result = response.data;\n        _this2.tableData = result;\n      }).catch(function () {\n        //失败执行内容\n      });\n    },\n    edit: function edit(row) {\n      var _this3 = this;\n\n      var id = row.id;\n      this.uploadId = id;\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_admin__[\"d\" /* getAdminById */])(id).then(function (response) {\n        var result = response.data;\n        _this3.form = result;\n        // 显示图像\n        if (result.avatar) {\n          _this3.imageUrl = __WEBPACK_IMPORTED_MODULE_2__static_config__[\"a\" /* default */].site + result.avatar;\n        } else {\n          _this3.imageUrl = \"\";\n        }\n        _this3.editDialogFormVisible = true;\n      });\n    },\n    reset: function reset(row) {\n      this.form2 = {\n        psw: \"\",\n        newpsw: \"\"\n      };\n      this.resetDialogFormVisible = true;\n      this.resetId = row.id;\n    },\n    submit: function submit() {\n      var _this4 = this;\n\n      if (this.form2.psw == this.form2.newpsw && this.form2.psw) {\n        var password = this.form2.psw;\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_admin__[\"e\" /* resetAdminByPsw */])(this.resetId, password).then(function (response) {\n          var result = response.status_code;\n          if (result == 200) {\n            _this4.$message.success({\n              message: \"恭喜你，重置密码成功\"\n            });\n            _this4.resetDialogFormVisible = false;\n          }\n        });\n      } else {\n        this.$message.error({\n          message: \"输入密码为空或两次输入密码不同，请重新输入！\"\n        });\n        this.resetDialogFormVisible = false;\n      }\n    },\n    saveData: function saveData() {\n      var _this5 = this;\n\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_admin__[\"f\" /* updataAdminInfo */])(this.uploadId, this.form).then(function (response) {\n        //成功执行内容\n        var result = response.status_code;\n        if (result == 200) {\n          var currentId = _this5.form.id;\n          var record = 0;\n          record = _this5.tableData.findIndex(function (val, index) {\n            return val.id == currentId;\n          });\n          _this5.tableData.splice(record, 1, _this5.form);\n          _this5.editDialogFormVisible = false;\n        }\n      }).catch(function () {\n        //失败执行内容\n      });\n    },\n    del: function del(row) {\n      var _this6 = this;\n\n      this.$confirm(\"此操作将永久删除该用户, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(function () {\n        var id = row.id;\n        var record = null;\n        record = _this6.tableData.findIndex(function (val) {\n          return val.id == id;\n        });\n\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_admin__[\"g\" /* deletAdminById */])(id).then(function (response) {\n          var result = response.status_code;\n          if (result == 200) {\n            _this6.$message({\n              type: \"success\",\n              message: \"删除成功!\"\n            });\n            _this6.tableData.splice(record, 1);\n          }\n        }).catch(function () {\n          //失败执行内容\n        });\n      }).catch(function () {});\n    }\n  },\n  mounted: function mounted() {\n    this.fetchData();\n  },\n  created: function created() {},\n\n  filters: {\n    roleFilter: function roleFilter(val) {\n      return val == \"admin\" ? \"管理员\" : \"编辑者\";\n    },\n    avatarFilter: function avatarFilter(val) {\n      return __WEBPACK_IMPORTED_MODULE_2__static_config__[\"a\" /* default */].site + val;\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"PUkQ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-table', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.tableData,\n      \"border\": true\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"prop\": \"id\",\n      \"label\": \"序号\",\n      \"width\": \"70\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"name\",\n      \"label\": \"姓名\",\n      \"width\": \"180\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"email\",\n      \"label\": \"email\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"权限\",\n      \"width\": \"100\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('span', {\n          staticStyle: {\n            \"margin-left\": \"10px\"\n          }\n        }, [_vm._v(_vm._s(_vm._f(\"roleFilter\")(scope.row.role)))])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"头像\",\n      \"width\": \"80\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [(scope.row.avatar) ? _c('img', {\n          attrs: {\n            \"src\": _vm._f(\"avatarFilter\")(scope.row.avatar),\n            \"alt\": \"\",\n            \"width\": \"50\",\n            \"height\": \"50\"\n          }\n        }) : _vm._e()]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"操作\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-tooltip', {\n          attrs: {\n            \"content\": \"编辑\",\n            \"placement\": \"top\"\n          }\n        }, [_c('el-button', {\n          attrs: {\n            \"plain\": \"\",\n            \"icon\": \"edit\",\n            \"type\": \"info\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.edit(scope.row)\n            }\n          }\n        })], 1), _vm._v(\" \"), _c('el-tooltip', {\n          attrs: {\n            \"content\": \"重置密码\",\n            \"placement\": \"top\"\n          }\n        }, [_c('el-button', {\n          attrs: {\n            \"plain\": \"\",\n            \"icon\": \"setting\",\n            \"type\": \"primary\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.reset(scope.row)\n            }\n          }\n        })], 1), _vm._v(\" \"), _c('el-tooltip', {\n          attrs: {\n            \"content\": \"删除\",\n            \"placement\": \"top\"\n          }\n        }, [_c('el-button', {\n          attrs: {\n            \"plain\": \"\",\n            \"icon\": \"delete\",\n            \"type\": \"danger\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.del(scope.row)\n            }\n          }\n        })], 1)]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"用户信息\",\n      \"visible\": _vm.editDialogFormVisible,\n      \"close-on-click-modal\": false\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.editDialogFormVisible = $event\n      }\n    }\n  }, [_c('el-form', {\n    attrs: {\n      \"model\": _vm.form,\n      \"label-width\": \"80px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"姓名\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.name),\n      callback: function($$v) {\n        _vm.form.name = $$v\n      },\n      expression: \"form.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"邮箱\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.email),\n      callback: function($$v) {\n        _vm.form.email = $$v\n      },\n      expression: \"form.email\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"用户权限\"\n    }\n  }, [_c('el-select', {\n    attrs: {\n      \"placeholder\": \"请选择\"\n    },\n    model: {\n      value: (_vm.form.role),\n      callback: function($$v) {\n        _vm.form.role = $$v\n      },\n      expression: \"form.role\"\n    }\n  }, [_c('el-option', {\n    attrs: {\n      \"label\": \"管理员\",\n      \"value\": \"admin\"\n    }\n  }, [_vm._v(\"管理员\")]), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"编辑员\",\n      \"value\": \"editor\"\n    }\n  }, [_vm._v(\"编辑员\")])], 1)], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"用户头像\"\n    }\n  }, [_c('el-upload', {\n    ref: \"upload\",\n    staticClass: \"avatar-uploader\",\n    attrs: {\n      \"drag\": \"\",\n      \"action\": \"123\",\n      \"accept\": \".jpg,.png\",\n      \"before-upload\": _vm.beforeUpload\n    }\n  }, [(_vm.form.avatar) ? _c('img', {\n    staticClass: \"avatar\",\n    attrs: {\n      \"src\": _vm.imageUrl\n    }\n  }) : _c('i', {\n    staticClass: \"el-icon-plus avatar-uploader-icon\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"el-upload__tip\",\n    slot: \"tip\"\n  }, [_vm._v(\"点击上传头像，只能上传jpg/png格式文件。\")])])], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.editDialogFormVisible = false\n      }\n    }\n  }, [_vm._v(\"取 消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.saveData()\n      }\n    }\n  }, [_vm._v(\"确 定\")])], 1)], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"密码重置\",\n      \"visible\": _vm.resetDialogFormVisible,\n      \"size\": \"tiny\",\n      \"close-on-click-modal\": false\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.resetDialogFormVisible = $event\n      }\n    }\n  }, [_c('el-form', {\n    attrs: {\n      \"model\": _vm.form2,\n      \"label-width\": \"100px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"请输入新密码\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\"\n    },\n    model: {\n      value: (_vm.form2.psw),\n      callback: function($$v) {\n        _vm.form2.psw = $$v\n      },\n      expression: \"form2.psw\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"再次确认密码\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\"\n    },\n    model: {\n      value: (_vm.form2.newpsw),\n      callback: function($$v) {\n        _vm.form2.newpsw = $$v\n      },\n      expression: \"form2.newpsw\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.resetDialogFormVisible = false\n      }\n    }\n  }, [_vm._v(\"取 消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submit()\n      }\n    }\n  }, [_vm._v(\"确 定\")])], 1)], 1)], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"iNpT\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"mHDl\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"e622f116\", content, true);\n\n/***/ }),\n\n/***/ \"iYVw\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Index_vue__ = __webpack_require__(\"DCAS\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_22e9f8b7_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_Index_vue__ = __webpack_require__(\"PUkQ\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"iNpT\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Index_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_22e9f8b7_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_Index_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"mHDl\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".avatar-uploader .el-upload{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload:hover{border-color:#20a0ff}.avatar-uploader-icon{font-size:28px;color:#8c939d;width:178px;height:178px;line-height:178px;text-align:center}.avatar{width:178px;height:178px;display:block}\", \"\", {\"version\":3,\"sources\":[\"E:/manger/frontend/src/views/admin/Index.vue\"],\"names\":[],\"mappings\":\"AACA,4BACE,0BAA2B,AAC3B,kBAAmB,AACnB,eAAgB,AAChB,kBAAmB,AACnB,eAAiB,CAClB,AACD,kCACE,oBAAsB,CACvB,AACD,sBACE,eAAgB,AAChB,cAAe,AACf,YAAa,AACb,aAAc,AACd,kBAAmB,AACnB,iBAAmB,CACpB,AACD,QACE,YAAa,AACb,aAAc,AACd,aAAe,CAChB\",\"file\":\"Index.vue\",\"sourcesContent\":[\"\\n.avatar-uploader .el-upload {\\r\\n  border: 1px dashed #d9d9d9;\\r\\n  border-radius: 6px;\\r\\n  cursor: pointer;\\r\\n  position: relative;\\r\\n  overflow: hidden;\\n}\\n.avatar-uploader .el-upload:hover {\\r\\n  border-color: #20a0ff;\\n}\\n.avatar-uploader-icon {\\r\\n  font-size: 28px;\\r\\n  color: #8c939d;\\r\\n  width: 178px;\\r\\n  height: 178px;\\r\\n  line-height: 178px;\\r\\n  text-align: center;\\n}\\n.avatar {\\r\\n  width: 178px;\\r\\n  height: 178px;\\r\\n  display: block;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/3.eac68fa35c8e84f70a9d.js","import fetch from '@/utils/fetch'\r\n\r\nexport function getAdmin() {\r\n  return fetch({\r\n    url: '/api/admin',\r\n    method: 'get',\r\n  })\r\n}\r\n\r\nexport function getAdminById(id) {\r\n  return fetch({\r\n    url: '/api/admin/' + id,\r\n    method: 'get',\r\n  })\r\n}\r\n\r\nexport function resetAdminByPsw(id, password) {\r\n  return fetch({\r\n    url: '/api/admin/' + id + '/reset',\r\n    method: 'post',\r\n    data: {\r\n      password\r\n    }\r\n  })\r\n}\r\n\r\nexport function uploadAdminByImg(data) {\r\n  return fetch({\r\n    url: '/api/admin/upload',\r\n    method: 'post',\r\n    data,\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    }\r\n  })\r\n}\r\n\r\nexport function updataAdminInfo(id, data) {\r\n  return fetch({\r\n    url: '/api/admin/' + id,\r\n    method: 'put',\r\n    params: {\r\n      name: data.name,\r\n      role: data.role,\r\n      avatar: data.avatar\r\n    },\r\n    headers: {\r\n      'Content-Type': 'application/x-www-form-urlencoded'\r\n    }\r\n  })\r\n}\r\n\r\nexport function deletAdminById(id) {\r\n  return fetch({\r\n    url: '/api/admin/' + id,\r\n    method: 'delete',\r\n  })\r\n}\r\n\r\nexport function addNewAdmin(data) {\r\n  return fetch({\r\n    url: '/api/admin',\r\n    method: 'post',\r\n    data,\r\n  })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/admin.js","<template>\r\n  <div>\r\n    <el-table :data=\"tableData\" :border=\"true\" style=\"width: 100%\">\r\n      <el-table-column prop=\"id\" label=\"序号\" width=\"70\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"name\" label=\"姓名\" width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"email\" label=\"email\">\r\n      </el-table-column>\r\n      <el-table-column  label=\"权限\" width=\"100\">\r\n      <template scope=\"scope\">\r\n        <span style=\"margin-left: 10px\">{{ scope.row.role|roleFilter }}</span>\r\n      </template>\r\n      </el-table-column>\r\n      <el-table-column  label=\"头像\" width=\"80\">\r\n        <template scope=\"scope\">\r\n           <img v-if=\"scope.row.avatar\" :src=\"scope.row.avatar|avatarFilter\" alt=\"\" width=\"50\" height=\"50\">\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\">\r\n        <template scope=\"scope\">\r\n          <el-tooltip content=\"编辑\" placement=\"top\">\r\n            <el-button plain icon=\"edit\" type=\"info\" size=\"small\" @click=\"edit(scope.row)\"></el-button>\r\n          </el-tooltip>\r\n          <el-tooltip content=\"重置密码\" placement=\"top\">\r\n            <el-button plain icon=\"setting\" type=\"primary\" size=\"small\" @click=\"reset(scope.row)\"></el-button>\r\n          </el-tooltip>\r\n          <el-tooltip content=\"删除\" placement=\"top\">\r\n            <el-button plain icon=\"delete\" type=\"danger\" size=\"small\" @click=\"del(scope.row)\"></el-button>\r\n          </el-tooltip>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <el-dialog title=\"用户信息\" :visible.sync=\"editDialogFormVisible\" :close-on-click-modal=\"false\">\r\n      <el-form :model=\"form\" label-width=\"80px\">\r\n        <el-form-item label=\"姓名\">\r\n          <el-input v-model=\"form.name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"邮箱\">\r\n          <el-input v-model=\"form.email\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"用户权限\">\r\n          <el-select v-model=\"form.role\" placeholder=\"请选择\">\r\n            <el-option label=\"管理员\" value=\"admin\">管理员</el-option>\r\n            <el-option label=\"编辑员\" value=\"editor\">编辑员</el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"用户头像\">\r\n       <el-upload class=\"avatar-uploader\" drag ref=\"upload\" action=\"123\" accept=\".jpg,.png\" :before-upload=\"beforeUpload\">\r\n        <img v-if=\"form.avatar\" :src=\"imageUrl\" class=\"avatar\">\r\n        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n         <div slot=\"tip\" class=\"el-upload__tip\">点击上传头像，只能上传jpg/png格式文件。</div>\r\n      </el-upload>\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"editDialogFormVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"saveData()\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <el-dialog title=\"密码重置\" :visible.sync=\"resetDialogFormVisible\" size=\"tiny\"\r\n    :close-on-click-modal=\"false\">\r\n      <el-form :model=\"form2\" label-width=\"100px\">\r\n        <el-form-item label=\"请输入新密码\">\r\n          <el-input v-model=\"form2.psw\" type=\"password\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"再次确认密码\">\r\n          <el-input v-model=\"form2.newpsw\" type=\"password\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"resetDialogFormVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"submit()\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getToken } from \"@/utils/auth\";\r\nimport {\r\n  getAdmin,\r\n  getAdminById,\r\n  resetAdminByPsw,\r\n  uploadAdminByImg,\r\n  updataAdminInfo,\r\n  deletAdminById\r\n} from \"@/api/admin\";\r\n\r\nimport adminConfig from \"./../../../static/config\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      imageUrl: \"\",\r\n      fileList: [],\r\n      uploadHeader: {\r\n        Authorization: \"Bearer \" + getToken(),\r\n        Accept: \"application/json, text/plain\"\r\n      },\r\n      importFileUrl: \"/api/admin/upload\",\r\n      tableData: [],\r\n      dialogFormVisible: false,\r\n      resetDialogFormVisible: false,\r\n      editDialogFormVisible: false,\r\n      resetId: \"\",\r\n      uploadId: \"\",\r\n      form: {\r\n        id: \"\",\r\n        name: \"\",\r\n        email: \"\",\r\n        role: \"\",\r\n        avatar: \"\"\r\n      },\r\n      form2: {\r\n        psw: \"\",\r\n        newpsw: \"\"\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    // 头像上传\r\n    beforeUpload(file) {\r\n      let fd = new FormData();\r\n      fd.append(\"photo\", file);\r\n      uploadAdminByImg(fd).then(res => {\r\n        let file = res.data.url;\r\n        this.form.avatar = file;\r\n        this.imageUrl = adminConfig.site + file;\r\n      });\r\n      return true;\r\n    },\r\n    fetchData() {\r\n      getAdmin()\r\n        .then(response => {\r\n          //成功执行内容\r\n          let result = response.data;\r\n          this.tableData = result;\r\n        })\r\n        .catch(() => {\r\n          //失败执行内容\r\n        });\r\n    },\r\n    edit(row) {\r\n      let id = row.id;\r\n      this.uploadId = id;\r\n      getAdminById(id).then(response => {\r\n        let result = response.data;\r\n        this.form = result;\r\n        // 显示图像\r\n        if (result.avatar) {\r\n          this.imageUrl = adminConfig.site + result.avatar;\r\n        } else {\r\n          this.imageUrl = \"\";\r\n        }\r\n        this.editDialogFormVisible = true;\r\n      });\r\n    },\r\n    reset(row) {\r\n      this.form2 = {\r\n        psw: \"\",\r\n        newpsw: \"\"\r\n      };\r\n      this.resetDialogFormVisible = true;\r\n      this.resetId = row.id;\r\n    },\r\n    submit() {\r\n      if (this.form2.psw == this.form2.newpsw && this.form2.psw) {\r\n        let password = this.form2.psw;\r\n        resetAdminByPsw(this.resetId, password).then(response => {\r\n          let result = response.status_code;\r\n          if (result == 200) {\r\n            this.$message.success({\r\n              message: \"恭喜你，重置密码成功\"\r\n            });\r\n            this.resetDialogFormVisible = false;\r\n          }\r\n        });\r\n      } else {\r\n        this.$message.error({\r\n          message: \"输入密码为空或两次输入密码不同，请重新输入！\"\r\n        });\r\n        this.resetDialogFormVisible = false;\r\n      }\r\n    },\r\n    saveData() {\r\n      updataAdminInfo(this.uploadId, this.form)\r\n        .then(response => {\r\n          //成功执行内容\r\n          let result = response.status_code;\r\n          if (result == 200) {\r\n            let currentId = this.form.id;\r\n            let record = 0;\r\n            record = this.tableData.findIndex((val, index) => {\r\n              return val.id == currentId;\r\n            });\r\n            this.tableData.splice(record, 1, this.form);\r\n            this.editDialogFormVisible = false;\r\n          }\r\n        })\r\n        .catch(() => {\r\n          //失败执行内容\r\n        });\r\n    },\r\n    del(row) {\r\n      this.$confirm(\"此操作将永久删除该用户, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          let id = row.id;\r\n          let record = null;\r\n          record = this.tableData.findIndex(val => val.id == id);\r\n\r\n          deletAdminById(id)\r\n            .then(response => {\r\n              let result = response.status_code;\r\n              if (result == 200) {\r\n                this.$message({\r\n                  type: \"success\",\r\n                  message: \"删除成功!\"\r\n                });\r\n                this.tableData.splice(record, 1);\r\n              }\r\n            })\r\n            .catch(() => {\r\n              //失败执行内容\r\n            });\r\n        })\r\n        .catch(() => {});\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchData()\r\n  },\r\n  created () {\r\n\r\n  },\r\n  filters: {\r\n    roleFilter(val) {\r\n      return val == \"admin\" ? \"管理员\" : \"编辑者\";\r\n    },\r\n    avatarFilter(val) {\r\n      return adminConfig.site + val;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.avatar-uploader .el-upload {\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.avatar-uploader .el-upload:hover {\r\n  border-color: #20a0ff;\r\n}\r\n\r\n.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 178px;\r\n  height: 178px;\r\n  line-height: 178px;\r\n  text-align: center;\r\n}\r\n\r\n.avatar {\r\n  width: 178px;\r\n  height: 178px;\r\n  display: block;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/admin/Index.vue?c02c415c","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-table', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.tableData,\n      \"border\": true\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"prop\": \"id\",\n      \"label\": \"序号\",\n      \"width\": \"70\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"name\",\n      \"label\": \"姓名\",\n      \"width\": \"180\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"email\",\n      \"label\": \"email\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"权限\",\n      \"width\": \"100\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('span', {\n          staticStyle: {\n            \"margin-left\": \"10px\"\n          }\n        }, [_vm._v(_vm._s(_vm._f(\"roleFilter\")(scope.row.role)))])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"头像\",\n      \"width\": \"80\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [(scope.row.avatar) ? _c('img', {\n          attrs: {\n            \"src\": _vm._f(\"avatarFilter\")(scope.row.avatar),\n            \"alt\": \"\",\n            \"width\": \"50\",\n            \"height\": \"50\"\n          }\n        }) : _vm._e()]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"操作\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-tooltip', {\n          attrs: {\n            \"content\": \"编辑\",\n            \"placement\": \"top\"\n          }\n        }, [_c('el-button', {\n          attrs: {\n            \"plain\": \"\",\n            \"icon\": \"edit\",\n            \"type\": \"info\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.edit(scope.row)\n            }\n          }\n        })], 1), _vm._v(\" \"), _c('el-tooltip', {\n          attrs: {\n            \"content\": \"重置密码\",\n            \"placement\": \"top\"\n          }\n        }, [_c('el-button', {\n          attrs: {\n            \"plain\": \"\",\n            \"icon\": \"setting\",\n            \"type\": \"primary\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.reset(scope.row)\n            }\n          }\n        })], 1), _vm._v(\" \"), _c('el-tooltip', {\n          attrs: {\n            \"content\": \"删除\",\n            \"placement\": \"top\"\n          }\n        }, [_c('el-button', {\n          attrs: {\n            \"plain\": \"\",\n            \"icon\": \"delete\",\n            \"type\": \"danger\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.del(scope.row)\n            }\n          }\n        })], 1)]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"用户信息\",\n      \"visible\": _vm.editDialogFormVisible,\n      \"close-on-click-modal\": false\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.editDialogFormVisible = $event\n      }\n    }\n  }, [_c('el-form', {\n    attrs: {\n      \"model\": _vm.form,\n      \"label-width\": \"80px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"姓名\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.name),\n      callback: function($$v) {\n        _vm.form.name = $$v\n      },\n      expression: \"form.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"邮箱\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.email),\n      callback: function($$v) {\n        _vm.form.email = $$v\n      },\n      expression: \"form.email\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"用户权限\"\n    }\n  }, [_c('el-select', {\n    attrs: {\n      \"placeholder\": \"请选择\"\n    },\n    model: {\n      value: (_vm.form.role),\n      callback: function($$v) {\n        _vm.form.role = $$v\n      },\n      expression: \"form.role\"\n    }\n  }, [_c('el-option', {\n    attrs: {\n      \"label\": \"管理员\",\n      \"value\": \"admin\"\n    }\n  }, [_vm._v(\"管理员\")]), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"编辑员\",\n      \"value\": \"editor\"\n    }\n  }, [_vm._v(\"编辑员\")])], 1)], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"用户头像\"\n    }\n  }, [_c('el-upload', {\n    ref: \"upload\",\n    staticClass: \"avatar-uploader\",\n    attrs: {\n      \"drag\": \"\",\n      \"action\": \"123\",\n      \"accept\": \".jpg,.png\",\n      \"before-upload\": _vm.beforeUpload\n    }\n  }, [(_vm.form.avatar) ? _c('img', {\n    staticClass: \"avatar\",\n    attrs: {\n      \"src\": _vm.imageUrl\n    }\n  }) : _c('i', {\n    staticClass: \"el-icon-plus avatar-uploader-icon\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"el-upload__tip\",\n    slot: \"tip\"\n  }, [_vm._v(\"点击上传头像，只能上传jpg/png格式文件。\")])])], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.editDialogFormVisible = false\n      }\n    }\n  }, [_vm._v(\"取 消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.saveData()\n      }\n    }\n  }, [_vm._v(\"确 定\")])], 1)], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"密码重置\",\n      \"visible\": _vm.resetDialogFormVisible,\n      \"size\": \"tiny\",\n      \"close-on-click-modal\": false\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.resetDialogFormVisible = $event\n      }\n    }\n  }, [_c('el-form', {\n    attrs: {\n      \"model\": _vm.form2,\n      \"label-width\": \"100px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"请输入新密码\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\"\n    },\n    model: {\n      value: (_vm.form2.psw),\n      callback: function($$v) {\n        _vm.form2.psw = $$v\n      },\n      expression: \"form2.psw\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"再次确认密码\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\"\n    },\n    model: {\n      value: (_vm.form2.newpsw),\n      callback: function($$v) {\n        _vm.form2.newpsw = $$v\n      },\n      expression: \"form2.newpsw\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.resetDialogFormVisible = false\n      }\n    }\n  }, [_vm._v(\"取 消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submit()\n      }\n    }\n  }, [_vm._v(\"确 定\")])], 1)], 1)], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-22e9f8b7\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/admin/Index.vue\n// module id = PUkQ\n// module chunks = 3","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-22e9f8b7\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Index.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"e622f116\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-22e9f8b7\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/admin/Index.vue\n// module id = iNpT\n// module chunks = 3","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-22e9f8b7\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-22e9f8b7\\\",\\\"hasScoped\\\":false}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Index.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/admin/Index.vue\n// module id = iYVw\n// module chunks = 3","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".avatar-uploader .el-upload{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload:hover{border-color:#20a0ff}.avatar-uploader-icon{font-size:28px;color:#8c939d;width:178px;height:178px;line-height:178px;text-align:center}.avatar{width:178px;height:178px;display:block}\", \"\", {\"version\":3,\"sources\":[\"E:/manger/frontend/src/views/admin/Index.vue\"],\"names\":[],\"mappings\":\"AACA,4BACE,0BAA2B,AAC3B,kBAAmB,AACnB,eAAgB,AAChB,kBAAmB,AACnB,eAAiB,CAClB,AACD,kCACE,oBAAsB,CACvB,AACD,sBACE,eAAgB,AAChB,cAAe,AACf,YAAa,AACb,aAAc,AACd,kBAAmB,AACnB,iBAAmB,CACpB,AACD,QACE,YAAa,AACb,aAAc,AACd,aAAe,CAChB\",\"file\":\"Index.vue\",\"sourcesContent\":[\"\\n.avatar-uploader .el-upload {\\r\\n  border: 1px dashed #d9d9d9;\\r\\n  border-radius: 6px;\\r\\n  cursor: pointer;\\r\\n  position: relative;\\r\\n  overflow: hidden;\\n}\\n.avatar-uploader .el-upload:hover {\\r\\n  border-color: #20a0ff;\\n}\\n.avatar-uploader-icon {\\r\\n  font-size: 28px;\\r\\n  color: #8c939d;\\r\\n  width: 178px;\\r\\n  height: 178px;\\r\\n  line-height: 178px;\\r\\n  text-align: center;\\n}\\n.avatar {\\r\\n  width: 178px;\\r\\n  height: 178px;\\r\\n  display: block;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-22e9f8b7\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/admin/Index.vue\n// module id = mHDl\n// module chunks = 3"],"sourceRoot":""}