{"version":3,"sources":["webpack:///static/js/0.ded4955fa106197b1177.js","webpack:///./src/components/avatar/index.vue?aa7c","webpack:///src/components/avatar/index.vue","webpack:///./src/views/admin/New.vue?ddf2","webpack:///./src/api/admin.js","webpack:///./src/components/avatar/index.vue?e0ec","webpack:///./src/views/admin/New.vue?320a","webpack:///./src/views/admin/New.vue","webpack:///./src/components/avatar/index.vue?d6cb","webpack:///./src/components/avatar/index.vue","webpack:///./src/views/admin/New.vue?1192","webpack:///src/views/admin/New.vue"],"names":["webpackJsonp","/sV7","module","__webpack_exports__","__webpack_require__","render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","attrs","drag","action","accept","before-upload","beforeUpload","showImg","length","src","image","_v","slot","staticRenderFns","esExports","0njY","data","props","type","String","required","name","methods","file","$emit","mounted","5Jzi","exports","content","i","locals","5eyz","getAdmin","__WEBPACK_IMPORTED_MODULE_0__utils_fetch__","url","method","getAdminById","id","resetAdminByPsw","password","uploadAdminByImg","headers","Content-Type","updataAdminInfo","params","role","avatar","deletAdminById","addNewAdmin","DLtB","push","version","sources","names","mappings","sourcesContent","sourceRoot","P98P","model","form","rules","label-width","label","prop","value","callback","$$v","expression","email","auto-complete","checkPass","placeholder","imageUrl","show-img","on","save","saveAvatarImg","click","$event","submitForm","resetForm","PC+2","injectStyle","ssrContext","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_New_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_3a1adc76_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_New_vue__","normalizeComponent","__vue_styles__","Component","U9/o","gFeK","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5087d94a_hasScoped_true_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__","t65K","xfLX","Admin","arguments","undefined","__WEBPACK_IMPORTED_MODULE_1__api_admin__","__WEBPACK_IMPORTED_MODULE_2__components_avatar__","__WEBPACK_IMPORTED_MODULE_3__static_config__","_this","validatePass","rule","Error","$refs","validateField","validatePass2","message","trigger","min","max","validator","components","avatarUploader","formName","_this2","validate","valid","$message","error","then","response","$alert","administrator","catch","console","log","resetFields","_this3","fd","FormData","append","res","site","created"],"mappings":"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","file":"static/js/0.ded4955fa106197b1177.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ \"/sV7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-upload', {\n    ref: \"upload\",\n    staticClass: \"avatar-uploader\",\n    attrs: {\n      \"drag\": \"\",\n      \"action\": \"123\",\n      \"accept\": \".jpg,.png\",\n      \"before-upload\": _vm.beforeUpload\n    }\n  }, [(_vm.showImg.length > 0) ? _c('img', {\n    staticClass: \"avatar\",\n    attrs: {\n      \"src\": _vm.image\n    }\n  }) : _c('i', {\n    staticClass: \"el-icon-plus avatar-uploader-icon\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"el-upload__tip\",\n    slot: \"tip\"\n  }, [_vm._v(\"点击上传头像，只能上传jpg/png格式文件。\")])])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"0njY\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {};\n  },\n\n  props: {\n    image: {\n      type: String,\n      required: true\n    },\n    showImg: {\n      type: String,\n      required: true\n    }\n  },\n  name: \"avatar-uploader\",\n  methods: {\n    beforeUpload: function beforeUpload(file) {\n      this.$emit('save', file);\n    }\n  },\n  mounted: function mounted() {}\n});\n\n/***/ }),\n\n/***/ \"5Jzi\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"t65K\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"63a68408\", content, true);\n\n/***/ }),\n\n/***/ \"5eyz\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = getAdmin;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = getAdminById;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = resetAdminByPsw;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = uploadAdminByImg;\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = updataAdminInfo;\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = deletAdminById;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = addNewAdmin;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_fetch__ = __webpack_require__(\"Vo7i\");\n\n\nfunction getAdmin() {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/admin',\n    method: 'get'\n  });\n}\n\nfunction getAdminById(id) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/admin/' + id,\n    method: 'get'\n  });\n}\n\nfunction resetAdminByPsw(id, password) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/admin/' + id + '/reset',\n    method: 'post',\n    data: {\n      password: password\n    }\n  });\n}\n\nfunction uploadAdminByImg(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/admin/upload',\n    method: 'post',\n    data: data,\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  });\n}\n\nfunction updataAdminInfo(id, data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/admin/' + id,\n    method: 'put',\n    params: {\n      name: data.name,\n      role: data.role,\n      avatar: data.avatar\n    },\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded'\n    }\n  });\n}\n\nfunction deletAdminById(id) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/admin/' + id,\n    method: 'delete'\n  });\n}\n\nfunction addNewAdmin(data) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n    url: '/api/admin',\n    method: 'post',\n    data: data\n  });\n}\n\n/***/ }),\n\n/***/ \"DLtB\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".avatar-uploader .el-upload[data-v-5087d94a]{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload[data-v-5087d94a]:hover{border-color:#20a0ff}.avatar-uploader-icon[data-v-5087d94a]{font-size:28px;color:#8c939d;width:178px;height:178px;line-height:178px;text-align:center}.avatar[data-v-5087d94a]{width:178px;height:178px;display:block}\", \"\", {\"version\":3,\"sources\":[\"E:/manger/frontend/src/components/avatar/index.vue\"],\"names\":[],\"mappings\":\"AACA,6CACE,0BAA2B,AAC3B,kBAAmB,AACnB,eAAgB,AAChB,kBAAmB,AACnB,eAAiB,CAClB,AACD,mDACE,oBAAsB,CACvB,AACD,uCACE,eAAgB,AAChB,cAAe,AACf,YAAa,AACb,aAAc,AACd,kBAAmB,AACnB,iBAAmB,CACpB,AACD,yBACE,YAAa,AACb,aAAc,AACd,aAAe,CAChB\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n.avatar-uploader .el-upload[data-v-5087d94a] {\\r\\n  border: 1px dashed #d9d9d9;\\r\\n  border-radius: 6px;\\r\\n  cursor: pointer;\\r\\n  position: relative;\\r\\n  overflow: hidden;\\n}\\n.avatar-uploader .el-upload[data-v-5087d94a]:hover {\\r\\n  border-color: #20a0ff;\\n}\\n.avatar-uploader-icon[data-v-5087d94a] {\\r\\n  font-size: 28px;\\r\\n  color: #8c939d;\\r\\n  width: 178px;\\r\\n  height: 178px;\\r\\n  line-height: 178px;\\r\\n  text-align: center;\\n}\\n.avatar[data-v-5087d94a] {\\r\\n  width: 178px;\\r\\n  height: 178px;\\r\\n  display: block;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"P98P\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-form', {\n    ref: \"form\",\n    staticClass: \"demo-form\",\n    attrs: {\n      \"model\": _vm.form,\n      \"rules\": _vm.rules,\n      \"label-width\": \"100px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"用户昵称\",\n      \"prop\": \"name\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.name),\n      callback: function($$v) {\n        _vm.form.name = $$v\n      },\n      expression: \"form.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"邮箱\",\n      \"prop\": \"email\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.email),\n      callback: function($$v) {\n        _vm.form.email = $$v\n      },\n      expression: \"form.email\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"密码\",\n      \"prop\": \"password\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\"\n    },\n    model: {\n      value: (_vm.form.password),\n      callback: function($$v) {\n        _vm.form.password = $$v\n      },\n      expression: \"form.password\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"确认密码\",\n      \"prop\": \"checkPass\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\",\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.form.checkPass),\n      callback: function($$v) {\n        _vm.form.checkPass = $$v\n      },\n      expression: \"form.checkPass\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"用户权限\",\n      \"prop\": \"role\"\n    }\n  }, [_c('el-select', {\n    attrs: {\n      \"placeholder\": \"请选择权限\"\n    },\n    model: {\n      value: (_vm.form.role),\n      callback: function($$v) {\n        _vm.form.role = $$v\n      },\n      expression: \"form.role\"\n    }\n  }, [_c('el-option', {\n    attrs: {\n      \"label\": \"编辑员\",\n      \"value\": \"editor\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"管理员\",\n      \"value\": \"admin\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"用户头像\"\n    }\n  }, [_c('avatar-uploader', {\n    attrs: {\n      \"image\": _vm.imageUrl,\n      \"show-img\": _vm.form.avatar\n    },\n    on: {\n      \"save\": _vm.saveAvatarImg\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submitForm('form')\n      }\n    }\n  }, [_vm._v(\"立即创建\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.resetForm('form')\n      }\n    }\n  }, [_vm._v(\"重置\")])], 1)], 1)], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"PC+2\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_New_vue__ = __webpack_require__(\"xfLX\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_3a1adc76_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_New_vue__ = __webpack_require__(\"P98P\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"5Jzi\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_New_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_3a1adc76_hasScoped_false_node_modules_vue_loader_lib_selector_type_template_index_0_New_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"U9/o\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"DLtB\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"4cf34c4e\", content, true);\n\n/***/ }),\n\n/***/ \"gFeK\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__ = __webpack_require__(\"0njY\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5087d94a_hasScoped_true_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__ = __webpack_require__(\"/sV7\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"U9/o\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5087d94a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5087d94a_hasScoped_true_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"t65K\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"New.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"xfLX\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_auth__ = __webpack_require__(\"TIfe\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api_admin__ = __webpack_require__(\"5eyz\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_avatar__ = __webpack_require__(\"gFeK\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__static_config__ = __webpack_require__(\"/98u\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\nfunction Admin() {\n  var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var email = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var role = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'editor';\n  var password = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n  var checkPass = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : '';\n  var avatar = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : '';\n\n  this.name = name;\n  this.email = email;\n  this.role = role;\n  this.password = password;\n  this.checkPass = checkPass;\n  this.avatar = avatar;\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    var _this = this;\n\n    var validatePass = function validatePass(rule, value, callback) {\n      if (value.length < 6) {\n        callback(new Error('密码不能小于6位'));\n      }\n      if (value === '') {\n        callback(new Error('请输入密码'));\n      } else {\n        if (_this.form.checkPass !== '') {\n          _this.$refs.form.validateField('checkPass');\n        }\n        callback();\n      }\n    };\n    var validatePass2 = function validatePass2(rule, value, callback) {\n      if (value === '') {\n        callback(new Error('请再次输入密码'));\n      } else if (value !== _this.form.password) {\n        callback(new Error('两次输入密码不一致!'));\n      } else {\n        callback();\n      }\n    };\n\n    return {\n      imageUrl: '',\n      form: new Admin(),\n      rules: {\n        name: [{ required: true, message: '请填写名称', trigger: 'blur' }, { min: 3, max: 5, message: '长度在 3 到 5 个字符', trigger: 'blur' }],\n        email: [{ required: true, message: '请输入邮箱地址', trigger: 'blur' }, { type: 'email', message: '请输入正确的邮箱地址', trigger: 'blur,change' }],\n        role: [{ required: true, message: '请选择权限', trigger: 'change' }],\n        password: [{ required: true, validator: validatePass, trigger: 'blur' }],\n        checkPass: [{ required: true, validator: validatePass2, trigger: 'blur' }]\n      }\n\n    };\n  },\n\n  components: {\n    avatarUploader: __WEBPACK_IMPORTED_MODULE_2__components_avatar__[\"a\" /* default */]\n  },\n  methods: {\n    submitForm: function submitForm(formName) {\n      var _this2 = this;\n\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_admin__[\"a\" /* addNewAdmin */])(_this2.form).then(function (response) {\n            _this2.$alert('新管理员用户建立成功', '友情提示', {\n              callback: function callback(action) {\n                // 清空内容，重新开始建立\n                var administrator = new Admin();\n                _this2.form = administrator;\n              }\n            });\n          }).catch(function (error) {\n            console.log(error.response);\n          });\n        } else {\n          _this2.$message.error('数据校验不通过，请重新填写');\n          return false;\n        }\n      });\n    },\n    resetForm: function resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n    saveAvatarImg: function saveAvatarImg(file) {\n      var _this3 = this;\n\n      var fd = new FormData();\n      fd.append(\"photo\", file);\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_admin__[\"b\" /* uploadAdminByImg */])(fd).then(function (res) {\n        var url = res.data.url;\n        _this3.imageUrl = __WEBPACK_IMPORTED_MODULE_3__static_config__[\"a\" /* default */].site + url;\n        _this3.form.avatar = url;\n      });\n      return true;\n    }\n  },\n  mounted: function mounted() {},\n  created: function created() {}\n});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/0.ded4955fa106197b1177.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-upload', {\n    ref: \"upload\",\n    staticClass: \"avatar-uploader\",\n    attrs: {\n      \"drag\": \"\",\n      \"action\": \"123\",\n      \"accept\": \".jpg,.png\",\n      \"before-upload\": _vm.beforeUpload\n    }\n  }, [(_vm.showImg.length > 0) ? _c('img', {\n    staticClass: \"avatar\",\n    attrs: {\n      \"src\": _vm.image\n    }\n  }) : _c('i', {\n    staticClass: \"el-icon-plus avatar-uploader-icon\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"el-upload__tip\",\n    slot: \"tip\"\n  }, [_vm._v(\"点击上传头像，只能上传jpg/png格式文件。\")])])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-5087d94a\",\"hasScoped\":true}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/avatar/index.vue\n// module id = /sV7\n// module chunks = 0","<template>\r\n    <el-upload class=\"avatar-uploader\" drag ref=\"upload\" action=\"123\" accept=\".jpg,.png\" :before-upload=\"beforeUpload\">\r\n        <img v-if=\"showImg.length>0\" :src=\"image\" class=\"avatar\">\r\n        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n         <div slot=\"tip\" class=\"el-upload__tip\">点击上传头像，只能上传jpg/png格式文件。</div>\r\n      </el-upload>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n\r\n    }\r\n  },\r\n  props:{\r\n    image: {\r\n       type: String,\r\n       required: true\r\n    },\r\n    showImg: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  name: \"avatar-uploader\",\r\n  methods: {\r\n    beforeUpload(file) {\r\n        this.$emit('save', file)\r\n    },\r\n  },\r\n  mounted () {\r\n   \r\n  }\r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.avatar-uploader .el-upload {\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.avatar-uploader .el-upload:hover {\r\n  border-color: #20a0ff;\r\n}\r\n\r\n.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 178px;\r\n  height: 178px;\r\n  line-height: 178px;\r\n  text-align: center;\r\n}\r\n\r\n.avatar {\r\n  width: 178px;\r\n  height: 178px;\r\n  display: block;\r\n}\r\n</style>\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/avatar/index.vue?47799284","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3a1adc76\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./New.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"63a68408\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-3a1adc76\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/admin/New.vue\n// module id = 5Jzi\n// module chunks = 0","import fetch from '@/utils/fetch'\r\n\r\nexport function getAdmin() {\r\n  return fetch({\r\n    url: '/api/admin',\r\n    method: 'get',\r\n  })\r\n}\r\n\r\nexport function getAdminById(id) {\r\n  return fetch({\r\n    url: '/api/admin/' + id,\r\n    method: 'get',\r\n  })\r\n}\r\n\r\nexport function resetAdminByPsw(id, password) {\r\n  return fetch({\r\n    url: '/api/admin/' + id + '/reset',\r\n    method: 'post',\r\n    data: {\r\n      password\r\n    }\r\n  })\r\n}\r\n\r\nexport function uploadAdminByImg(data) {\r\n  return fetch({\r\n    url: '/api/admin/upload',\r\n    method: 'post',\r\n    data,\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    }\r\n  })\r\n}\r\n\r\nexport function updataAdminInfo(id, data) {\r\n  return fetch({\r\n    url: '/api/admin/' + id,\r\n    method: 'put',\r\n    params: {\r\n      name: data.name,\r\n      role: data.role,\r\n      avatar: data.avatar\r\n    },\r\n    headers: {\r\n      'Content-Type': 'application/x-www-form-urlencoded'\r\n    }\r\n  })\r\n}\r\n\r\nexport function deletAdminById(id) {\r\n  return fetch({\r\n    url: '/api/admin/' + id,\r\n    method: 'delete',\r\n  })\r\n}\r\n\r\nexport function addNewAdmin(data) {\r\n  return fetch({\r\n    url: '/api/admin',\r\n    method: 'post',\r\n    data,\r\n  })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/admin.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".avatar-uploader .el-upload[data-v-5087d94a]{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload[data-v-5087d94a]:hover{border-color:#20a0ff}.avatar-uploader-icon[data-v-5087d94a]{font-size:28px;color:#8c939d;width:178px;height:178px;line-height:178px;text-align:center}.avatar[data-v-5087d94a]{width:178px;height:178px;display:block}\", \"\", {\"version\":3,\"sources\":[\"E:/manger/frontend/src/components/avatar/index.vue\"],\"names\":[],\"mappings\":\"AACA,6CACE,0BAA2B,AAC3B,kBAAmB,AACnB,eAAgB,AAChB,kBAAmB,AACnB,eAAiB,CAClB,AACD,mDACE,oBAAsB,CACvB,AACD,uCACE,eAAgB,AAChB,cAAe,AACf,YAAa,AACb,aAAc,AACd,kBAAmB,AACnB,iBAAmB,CACpB,AACD,yBACE,YAAa,AACb,aAAc,AACd,aAAe,CAChB\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n.avatar-uploader .el-upload[data-v-5087d94a] {\\r\\n  border: 1px dashed #d9d9d9;\\r\\n  border-radius: 6px;\\r\\n  cursor: pointer;\\r\\n  position: relative;\\r\\n  overflow: hidden;\\n}\\n.avatar-uploader .el-upload[data-v-5087d94a]:hover {\\r\\n  border-color: #20a0ff;\\n}\\n.avatar-uploader-icon[data-v-5087d94a] {\\r\\n  font-size: 28px;\\r\\n  color: #8c939d;\\r\\n  width: 178px;\\r\\n  height: 178px;\\r\\n  line-height: 178px;\\r\\n  text-align: center;\\n}\\n.avatar[data-v-5087d94a] {\\r\\n  width: 178px;\\r\\n  height: 178px;\\r\\n  display: block;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-5087d94a\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/avatar/index.vue\n// module id = DLtB\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-form', {\n    ref: \"form\",\n    staticClass: \"demo-form\",\n    attrs: {\n      \"model\": _vm.form,\n      \"rules\": _vm.rules,\n      \"label-width\": \"100px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"用户昵称\",\n      \"prop\": \"name\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.name),\n      callback: function($$v) {\n        _vm.form.name = $$v\n      },\n      expression: \"form.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"邮箱\",\n      \"prop\": \"email\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.email),\n      callback: function($$v) {\n        _vm.form.email = $$v\n      },\n      expression: \"form.email\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"密码\",\n      \"prop\": \"password\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\"\n    },\n    model: {\n      value: (_vm.form.password),\n      callback: function($$v) {\n        _vm.form.password = $$v\n      },\n      expression: \"form.password\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"确认密码\",\n      \"prop\": \"checkPass\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\",\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.form.checkPass),\n      callback: function($$v) {\n        _vm.form.checkPass = $$v\n      },\n      expression: \"form.checkPass\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"用户权限\",\n      \"prop\": \"role\"\n    }\n  }, [_c('el-select', {\n    attrs: {\n      \"placeholder\": \"请选择权限\"\n    },\n    model: {\n      value: (_vm.form.role),\n      callback: function($$v) {\n        _vm.form.role = $$v\n      },\n      expression: \"form.role\"\n    }\n  }, [_c('el-option', {\n    attrs: {\n      \"label\": \"编辑员\",\n      \"value\": \"editor\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"管理员\",\n      \"value\": \"admin\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"用户头像\"\n    }\n  }, [_c('avatar-uploader', {\n    attrs: {\n      \"image\": _vm.imageUrl,\n      \"show-img\": _vm.form.avatar\n    },\n    on: {\n      \"save\": _vm.saveAvatarImg\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submitForm('form')\n      }\n    }\n  }, [_vm._v(\"立即创建\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.resetForm('form')\n      }\n    }\n  }, [_vm._v(\"重置\")])], 1)], 1)], 1)\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-3a1adc76\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/admin/New.vue\n// module id = P98P\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3a1adc76\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./New.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./New.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3a1adc76\\\",\\\"hasScoped\\\":false}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./New.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/admin/New.vue\n// module id = PC+2\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5087d94a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"4cf34c4e\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-5087d94a\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/avatar/index.vue\n// module id = U9/o\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5087d94a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5087d94a\\\",\\\"hasScoped\\\":true}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5087d94a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/avatar/index.vue\n// module id = gFeK\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"New.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-3a1adc76\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/admin/New.vue\n// module id = t65K\n// module chunks = 0","<template>\r\n  <div>\r\n    <el-form :model=\"form\" :rules=\"rules\" ref=\"form\" label-width=\"100px\" class=\"demo-form\">\r\n      <el-form-item label=\"用户昵称\" prop=\"name\">\r\n        <el-input v-model=\"form.name\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"邮箱\" prop=\"email\">\r\n        <el-input v-model=\"form.email\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"密码\" prop=\"password\">\r\n        <el-input  type=\"password\" v-model=\"form.password\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"确认密码\" prop=\"checkPass\">\r\n        <el-input type=\"password\" v-model=\"form.checkPass\" auto-complete=\"off\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"用户权限\" prop=\"role\">\r\n        <el-select v-model=\"form.role\" placeholder=\"请选择权限\">\r\n          <el-option label=\"编辑员\" value=\"editor\"></el-option>\r\n          <el-option label=\"管理员\" value=\"admin\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"用户头像\">\r\n           <avatar-uploader :image='imageUrl' :show-img='form.avatar'  @save=\"saveAvatarImg\"></avatar-uploader>\r\n      </el-form-item>\r\n\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"submitForm('form')\">立即创建</el-button>\r\n        <el-button @click=\"resetForm('form')\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getToken } from \"@/utils/auth\";\r\nimport { addNewAdmin,uploadAdminByImg } from \"@/api/admin\";\r\nimport avatarUploader from \"@/components/avatar\";\r\nimport adminConfig from \"@/../static/config\";\r\n\r\nfunction Admin(name='', email = '', role = 'editor', password = '', checkPass = '', avatar = '')  {\r\n  this.name = name\r\n  this.email = email\r\n  this.role = role\r\n  this.password = password\r\n  this.checkPass = checkPass\r\n  this.avatar = avatar\r\n}\r\n\r\nexport default {\r\n  data () {\r\n    var validatePass = (rule, value, callback) => {\r\n      if (value.length < 6) {\r\n        callback(new Error('密码不能小于6位'))\r\n      }\r\n      if (value === '') {\r\n        callback(new Error('请输入密码'));\r\n      } else {\r\n        if (this.form.checkPass !== '') {\r\n          this.$refs.form.validateField('checkPass');\r\n        }\r\n        callback();\r\n      }\r\n    };\r\n    var validatePass2 = (rule, value, callback) => {\r\n      if (value === '') {\r\n        callback(new Error('请再次输入密码'));\r\n      } else if (value !== this.form.password) {\r\n        callback(new Error('两次输入密码不一致!'));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n\r\n    return {\r\n      imageUrl:'',\r\n      form: new Admin(),\r\n      rules: {\r\n        name: [\r\n          { required: true, message: '请填写名称', trigger: 'blur' },\r\n          { min: 3, max: 5, message: '长度在 3 到 5 个字符', trigger: 'blur' }\r\n        ],\r\n        email: [\r\n          { required: true, message: '请输入邮箱地址', trigger: 'blur' },\r\n          { type: 'email', message: '请输入正确的邮箱地址', trigger: 'blur,change' }\r\n        ],\r\n        role: [\r\n          { required: true, message: '请选择权限', trigger: 'change' }\r\n        ],\r\n        password: [\r\n          {required: true, validator: validatePass, trigger: 'blur' }\r\n        ],\r\n        checkPass: [\r\n          {required: true, validator: validatePass2, trigger: 'blur' }\r\n        ],\r\n      }\r\n\r\n    };\r\n  },\r\n  components:{\r\n    avatarUploader\r\n  },\r\n  methods: {\r\n    submitForm (formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          addNewAdmin(this.form).then(response => {\r\n              this.$alert('新管理员用户建立成功','友情提示', {\r\n                callback: action => {\r\n                   // 清空内容，重新开始建立\r\n                   let administrator = new Admin()\r\n                   this.form = administrator\r\n                }\r\n              })\r\n          }).catch(error => {\r\n              console.log(error.response)\r\n          })\r\n        } else {\r\n          this.$message.error('数据校验不通过，请重新填写')\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    resetForm (formName) {\r\n      this.$refs[formName].resetFields();\r\n    },\r\n    saveAvatarImg(file) {\r\n      let fd = new FormData();\r\n      fd.append(\"photo\", file);\r\n      uploadAdminByImg(fd).then(res => {\r\n        let url = res.data.url;\r\n        this.imageUrl = adminConfig.site + url\r\n        this.form.avatar = url\r\n      });\r\n      return true;\r\n    }\r\n  },\r\n  mounted () {\r\n\r\n  },\r\n  created() {\r\n\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/admin/New.vue?4dbcb8b0"],"sourceRoot":""}