webpackJsonp([0],{"/sV7":function(e,a,r){"use strict";var t=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{drag:"",action:"123",accept:".jpg,.png","before-upload":e.beforeUpload}},[e.showImg.length>0?r("img",{staticClass:"avatar",attrs:{src:e.image}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),e._v(" "),r("div",{staticClass:"el-upload__tip",slot:"tip"},[e._v("点击上传头像，只能上传jpg/png格式文件。")])])},o=[],n={render:t,staticRenderFns:o};a.a=n},"0njY":function(e,a,r){"use strict";a.a={data:function(){return{}},props:{image:{type:String,required:!0},showImg:{type:String,required:!0}},name:"avatar-uploader",methods:{beforeUpload:function(e){this.$emit("save",e)}},mounted:function(){}}},"5Jzi":function(e,a,r){var t=r("t65K");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);r("rjj0")("63a68408",t,!0)},"5eyz":function(e,a,r){"use strict";function t(){return r.i(u.a)({url:"/api/admin",method:"get"})}function o(e){return r.i(u.a)({url:"/api/admin/"+e,method:"get"})}function n(e,a){return r.i(u.a)({url:"/api/admin/"+e+"/reset",method:"post",data:{password:a}})}function i(e){return r.i(u.a)({url:"/api/admin/upload",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}})}function s(e,a){return r.i(u.a)({url:"/api/admin/"+e,method:"put",params:{name:a.name,role:a.role,avatar:a.avatar},headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function l(e){return r.i(u.a)({url:"/api/admin/"+e,method:"delete"})}function d(e){return r.i(u.a)({url:"/api/admin",method:"post",data:e})}a.c=t,a.d=o,a.e=n,a.b=i,a.f=s,a.g=l,a.a=d;var u=r("Vo7i")},DLtB:function(e,a,r){a=e.exports=r("FZ+f")(!0),a.push([e.i,".avatar-uploader .el-upload[data-v-5087d94a]{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload[data-v-5087d94a]:hover{border-color:#20a0ff}.avatar-uploader-icon[data-v-5087d94a]{font-size:28px;color:#8c939d;width:178px;height:178px;line-height:178px;text-align:center}.avatar[data-v-5087d94a]{width:178px;height:178px;display:block}","",{version:3,sources:["G:/project/newcase/manger/frontend/src/components/avatar/index.vue"],names:[],mappings:"AACA,6CACE,0BAA2B,AAC3B,kBAAmB,AACnB,eAAgB,AAChB,kBAAmB,AACnB,eAAiB,CAClB,AACD,mDACE,oBAAsB,CACvB,AACD,uCACE,eAAgB,AAChB,cAAe,AACf,YAAa,AACb,aAAc,AACd,kBAAmB,AACnB,iBAAmB,CACpB,AACD,yBACE,YAAa,AACb,aAAc,AACd,aAAe,CAChB",file:"index.vue",sourcesContent:["\n.avatar-uploader .el-upload[data-v-5087d94a] {\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\n}\n.avatar-uploader .el-upload[data-v-5087d94a]:hover {\r\n  border-color: #20a0ff;\n}\n.avatar-uploader-icon[data-v-5087d94a] {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 178px;\r\n  height: 178px;\r\n  line-height: 178px;\r\n  text-align: center;\n}\n.avatar[data-v-5087d94a] {\r\n  width: 178px;\r\n  height: 178px;\r\n  display: block;\n}\r\n"],sourceRoot:""}])},P98P:function(e,a,r){"use strict";var t=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("div",[r("el-form",{ref:"form",staticClass:"demo-form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户昵称",prop:"name"}},[r("el-input",{model:{value:e.form.name,callback:function(a){e.form.name=a},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{model:{value:e.form.email,callback:function(a){e.form.email=a},expression:"form.email"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password"},model:{value:e.form.password,callback:function(a){e.form.password=a},expression:"form.password"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[r("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.form.checkPass,callback:function(a){e.form.checkPass=a},expression:"form.checkPass"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"用户权限",prop:"role"}},[r("el-select",{attrs:{placeholder:"请选择权限"},model:{value:e.form.role,callback:function(a){e.form.role=a},expression:"form.role"}},[r("el-option",{attrs:{label:"编辑员",value:"editor"}}),e._v(" "),r("el-option",{attrs:{label:"管理员",value:"admin"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"用户头像"}},[r("avatar-uploader",{attrs:{image:e.imageUrl,"show-img":e.form.avatar},on:{save:e.saveAvatarImg}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(a){e.submitForm("form")}}},[e._v("立即创建")]),e._v(" "),r("el-button",{on:{click:function(a){e.resetForm("form")}}},[e._v("重置")])],1)],1)],1)},o=[],n={render:t,staticRenderFns:o};a.a=n},"PC+2":function(e,a,r){"use strict";function t(e){r("5Jzi")}Object.defineProperty(a,"__esModule",{value:!0});var o=r("xfLX"),n=r("P98P"),i=r("VU/8"),s=t,l=i(o.a,n.a,s,null,null);a.default=l.exports},"U9/o":function(e,a,r){var t=r("DLtB");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);r("rjj0")("4cf34c4e",t,!0)},gFeK:function(e,a,r){"use strict";function t(e){r("U9/o")}var o=r("0njY"),n=r("/sV7"),i=r("VU/8"),s=t,l=i(o.a,n.a,s,"data-v-5087d94a",null);a.a=l.exports},t65K:function(e,a,r){a=e.exports=r("FZ+f")(!0),a.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"New.vue",sourceRoot:""}])},xfLX:function(e,a,r){"use strict";function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"editor",t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";this.name=e,this.email=a,this.role=r,this.password=t,this.checkPass=o,this.avatar=n}var o=(r("TIfe"),r("5eyz")),n=r("gFeK"),i=r("/98u");a.a={data:function(){var e=this,a=function(a,r,t){r.length<6&&t(new Error("密码不能小于6位")),""===r?t(new Error("请输入密码")):(""!==e.form.checkPass&&e.$refs.form.validateField("checkPass"),t())},r=function(a,r,t){""===r?t(new Error("请再次输入密码")):r!==e.form.password?t(new Error("两次输入密码不一致!")):t()};return{imageUrl:"",form:new t,rules:{name:[{required:!0,message:"请填写名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur,change"}],role:[{required:!0,message:"请选择权限",trigger:"change"}],password:[{required:!0,validator:a,trigger:"blur"}],checkPass:[{required:!0,validator:r,trigger:"blur"}]}}},components:{avatarUploader:n.a},methods:{submitForm:function(e){var a=this;this.$refs[e].validate(function(e){if(!e)return a.$message.error("数据校验不通过，请重新填写"),!1;r.i(o.a)(a.form).then(function(e){a.$alert("新管理员用户建立成功","友情提示",{callback:function(e){var r=new t;a.form=r}})}).catch(function(e){console.log(e.response)})})},resetForm:function(e){this.$refs[e].resetFields()},saveAvatarImg:function(e){var a=this,t=new FormData;return t.append("photo",e),r.i(o.b)(t).then(function(e){var r=e.data.url;a.imageUrl=i.a.site+r,a.form.avatar=r}),!0}},mounted:function(){},created:function(){}}}});
//# sourceMappingURL=0.45fc883317a5a749aea7.js.map